{% extends 'front/employee_home/index.html.twig' %}

{% block title %}Reservation List{% endblock %}

{% block content %} {# Use 'content' block for main content #}
    <div class="container mt-4">
        <div class="page-title">
            <div class="title_left">
                <h5>{% block LienPrecedent %}<a href="{{ path('app_transport_list') }}">Back to Transport List</a>{% endblock %}</h5>
            </div>
        </div>

        <div class="clearfix"></div>

        <div class="row">
            <div class="col-md-12 col-sm-12 col-xs-12">
                <div class="x_panel">
                    <div class="x_title">
                        <h2>Reservation List</h2>
                        <div class="clearfix"></div>
                    </div>
                    <div class="x_content">
                        <table class="table table-striped table-bordered table-hover table-sm">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Employee</th>
                                    <th>Transport</th>
                                    <th>Date</th>
                                    <th>Type</th>
                                    <th>Priority</th>
                                    <th>Notes</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                            {% for reservationtransport in reservationtransports %}
                                <tr>
                                    <td>{{ reservationtransport.id }}</td>
                                    <td>
                                        {% if reservationtransport.employe %}
                                            {{ reservationtransport.employe.name ?? 'N/A' }}
                                        {% else %}
                                            Not assigned
                                        {% endif %}
                                    </td>
                                    <td>
                                        {% if reservationtransport.transport %}
                                            {{ reservationtransport.transport.transportName }}
                                        {% else %}
                                            <em>Not linked</em>
                                        {% endif %}
                                    </td>
                                    <td>{{ reservationtransport.dateReservation|date('Y-m-d H:i') }}</td>
                                    <td>{{ reservationtransport.typeReservation }}</td>
                                    <td>{{ reservationtransport.prioriteReservation }}</td>
                                    <td>{{ reservationtransport.notesReservation }}</td>
                                    <td>
                                        <a class="btn btn-sm btn-outline-primary" href="{{ path('app_reservationtransport_show', {'id': reservationtransport.id}) }}">
                                            <i class="fa fa-eye"></i> Show
                                        </a>
                                        <a class="btn btn-sm btn-outline-secondary" href="{{ path('app_reservationtransport_edit', {'id': reservationtransport.id}) }}">
                                            <i class="fa fa-edit"></i> Edit
                                        </a>
                                    </td>
                                </tr>
                            {% else %}
                                <tr>
                                    <td colspan="8" class="text-center">No reservations found.</td>
                                </tr>
                            {% endfor %}
                            </tbody>
                        </table>

                        <a href="{{ path('app_transport_list') }}" class="btn btn-primary">Back to Transport List</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block footer %}{% endblock %} 